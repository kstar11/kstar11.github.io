<!DOCTYPE html>
<html lang="en">
<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?4b65c7381b19d526e0d63bf2a0143e67";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="最Low的Node应用接上一节,我们已经大约知道了Node是如何运作的:

NodeJS的代码就是JavaScript的语法;
NodeJS的程序运行脱离开了浏览器;

然后小白同学可能就疑问了,如果NodeJS的运行脱离了浏览器,那么我怎么写页面呢?不要方,接下来,我们就马上尝试一下,怎么用Nod">
    

    <!--Author-->
    
        <meta name="author" content="kstar11">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="NodeJS-2.最Low的Node应用">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="齐烟九点">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>NodeJS-2.最Low的Node应用 - 齐烟九点</title>
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

    <div class="bg-gradient"></div>
    <div class="bg-pattern"></div>

    <!-- Menu -->
    <!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    首页
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    文章
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

    <div class="container">

        <!-- Main Content -->
        <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/">
            <i class="logoimg" aria-hidden="true"></i>
        </a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2019/03/28/NodeJS-1.2.最Low的Node应用/">
                NodeJS-2.最Low的Node应用
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-03-28</span>
            
            
            
                <span class="category">
                    <a href="/categories/Node/">Node</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h2 id="最Low的Node应用"><a href="#最Low的Node应用" class="headerlink" title="最Low的Node应用"></a>最Low的Node应用</h2><p>接上一节,我们已经大约知道了Node是如何运作的:</p>
<ul>
<li>NodeJS的代码就是JavaScript的语法;</li>
<li>NodeJS的程序运行脱离开了浏览器;</li>
</ul>
<p>然后小白同学可能就疑问了,如果NodeJS的运行脱离了浏览器,那么我怎么写页面呢?<br>不要方,接下来,我们就马上尝试一下,怎么用NodeJS写页面;<br>先上代码,我们可以先复制下面这段代码,尝试运行,之后,我们再来一行一行的解释代码用意;<br><figure class="highlight javascript"><figcaption><span>&#123;.line-numbers&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/html'</span> &#125;);</span><br><span class="line">    res.write(<span class="string">`</span></span><br><span class="line"><span class="string">    &lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">    &lt;html lang="en"&gt;</span></span><br><span class="line"><span class="string">    &lt;head&gt;</span></span><br><span class="line"><span class="string">        &lt;meta charset="UTF-8"&gt;</span></span><br><span class="line"><span class="string">        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></span><br><span class="line"><span class="string">        &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;</span></span><br><span class="line"><span class="string">        &lt;title&gt;Low&lt;/title&gt;</span></span><br><span class="line"><span class="string">    &lt;/head&gt;</span></span><br><span class="line"><span class="string">    &lt;body&gt;</span></span><br><span class="line"><span class="string">        &lt;h1&gt;这是一个很low的应用!&lt;/h1&gt;</span></span><br><span class="line"><span class="string">    &lt;/body&gt;</span></span><br><span class="line"><span class="string">    &lt;/html&gt;</span></span><br><span class="line"><span class="string">    `</span>);</span><br><span class="line">    res.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure></p>
<p>新建在myNode文件夹下,新建low.js,粘贴以上代码并保存,之后打开命令行,输入:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node low.js</span><br></pre></td></tr></table></figure></p>
<p>接下来,我们打开浏览器,并在地址栏输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:3000</span><br></pre></td></tr></table></figure></p>
<p>是否看到网页中显示着 <strong>这是一个很low的应用!</strong></p>
<hr>
<p>下面,我们一起来逐行分析代码:</p>
<figure class="highlight javascript"><figcaption><span>&#123;.line-numbers&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="comment">// const不多做解释,后面的require('http')则表示引入NodeJS的http模块</span></span><br></pre></td></tr></table></figure>
<p>首先,强制性告诉大家并记住,NodeJS是遵从commonjs规范的,而commonjs引入其他的文件/模块就是以require(路径)的方式进行;<br><strong>至于什么是commonjs规范,什么是ESModule请大家自行百度阮一峰前辈,或者廖雪峰前辈,他们的个人博客上面都有非常详细的介绍</strong><br>如果你对commonjs没有任何头绪,你可以暂时理解require(路径)等效于我们html中的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;路径&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>最后,http模块是NodeJS众多内置模块中常用的模块之一;<br>在下一节,我们会详细讲解NodeJS的几大常用模块,现在,我们继续分析代码;<br><figure class="highlight javascript"><figcaption><span>&#123;.line-numbers&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//前面我们引入的http模块,他是一个对象,在这里,我们调用他的createServer方法;</span></span><br><span class="line"><span class="comment">//createServer他在执行之后会创建一个web服务,这个方法有2个参数</span></span><br><span class="line">## 升阶思考:为什么这里会用一个回调函数来进行操作? ##</span><br><span class="line"><span class="comment">//一个request,这个是来自请求方的信息合集</span></span><br><span class="line"><span class="comment">//一个response,由我们(Node)返回过去给请求方的</span></span><br></pre></td></tr></table></figure></p>
<p>对于http,想必大家不陌生,关于三次握手这种经典的面试题就不在赘述了,这里最重要的东西就是req和res,这2大金刚将伴随我们的NodeJS生涯,搞懂了req跟res,NodeJS你就掌握了一大半,所以,请牢记;<br>这次的low应用,我们并没使用req对象,没有从请求方获取信息;<br>但是对于res,且看我们仔细分析:<br><figure class="highlight javascript"><figcaption><span>&#123;.line-numbers&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/html'</span> &#125;);</span><br><span class="line"><span class="comment">//通过res对象,将当前返回信息的状态进行修改,并制定content-type类型</span></span><br><span class="line">res.write(<span class="string">`hello`</span>);</span><br><span class="line"><span class="comment">//通过res对象编写请求反馈 ==&gt;这里为了节省代码量,用hello替代了原代码中的html字符串</span></span><br><span class="line">res.end();</span><br><span class="line"><span class="comment">//通过res的end方法,告诉对方,我的表演完毕</span></span><br><span class="line">server.listen(<span class="number">3000</span>);</span><br><span class="line"><span class="comment">//这句话的意思就是说我们这个Node应用去监听3000端口,端口改动了,我们在浏览器里面访问的地址也要相应的改动</span></span><br></pre></td></tr></table></figure></p>
<p>首先的res.writeHead是先告诉对方,你这次请求的反馈状态,如我们一般所知的200,400,404,500等,都是现有请求状态,在继续后续的动作;</p>
<p><strong>PS:把writeHead里面的200改成400(403,404,500),看看会有什么效果 ==&gt;记得打开控制台,看network</strong></p>
<p>紧跟在200后面的对象,是一个属性描述,告诉请求者,我反馈给你的信息的content-type是text/html类型,也就是我们常说的web网页;</p>
<p><strong>PS:把text/html改成text/plain试试看</strong></p>
<p>res.write这个方法则是描写返回信息的详细内容,一般是sting或者num才接受;</p>
<p><strong>PS:用write写一个obj或者arr试试看</strong></p>
<p>res.end这个方法是告诉请求者,我表演完了,没东西再给你了,你自己玩吧,我要挂断这次请求了!</p>
<p><strong>PS:把res.end()这个方法注释掉,看看会发生什么</strong></p>
<h3 id="到这里-我们完成了一次经典的http会话"><a href="#到这里-我们完成了一次经典的http会话" class="headerlink" title="到这里,我们完成了一次经典的http会话"></a>到这里,我们完成了一次经典的http会话</h3><ul>
<li><h4 id="通过打开浏览器并访问http-localhost-3000的方式向我们这个low-js所建立起来的web应用发送访问请求"><a href="#通过打开浏览器并访问http-localhost-3000的方式向我们这个low-js所建立起来的web应用发送访问请求" class="headerlink" title="通过打开浏览器并访问http://localhost:3000的方式向我们这个low.js所建立起来的web应用发送访问请求;"></a>通过打开浏览器并访问<a href="">http://localhost:3000</a>的方式向我们这个low.js所建立起来的web应用发送访问请求;</h4></li>
<li><h4 id="low-js建立的web应用在收到请求之后-首先是将自己的反馈状态定义为200-接下来告诉请求者-我要反馈给你的是text-html类型的数据"><a href="#low-js建立的web应用在收到请求之后-首先是将自己的反馈状态定义为200-接下来告诉请求者-我要反馈给你的是text-html类型的数据" class="headerlink" title="low.js建立的web应用在收到请求之后,首先是将自己的反馈状态定义为200,接下来告诉请求者,我要反馈给你的是text/html类型的数据;"></a>low.js建立的web应用在收到请求之后,首先是将自己的反馈状态定义为200,接下来告诉请求者,我要反馈给你的是text/html类型的数据;</h4></li>
<li><h4 id="在定义完状态及反馈类型之后-再将要发送的数据返回给请求方"><a href="#在定义完状态及反馈类型之后-再将要发送的数据返回给请求方" class="headerlink" title="在定义完状态及反馈类型之后,再将要发送的数据返回给请求方;"></a>在定义完状态及反馈类型之后,再将要发送的数据返回给请求方;</h4></li>
<li><h4 id="最后-告诉请求者-这次就这么多东西给你-还要的话请下次再来"><a href="#最后-告诉请求者-这次就这么多东西给你-还要的话请下次再来" class="headerlink" title="最后,告诉请求者,这次就这么多东西给你,还要的话请下次再来!"></a>最后,告诉请求者,这次就这么多东西给你,还要的话请下次再来!</h4></li>
</ul>
<hr>
<h5 id="至此-我们这个最low的Node应用就完成了-请大家牢记req和res这2大金刚"><a href="#至此-我们这个最low的Node应用就完成了-请大家牢记req和res这2大金刚" class="headerlink" title="至此,我们这个最low的Node应用就完成了,请大家牢记req和res这2大金刚!!"></a>至此,我们这个最low的Node应用就完成了,请大家牢记req和res这2大金刚!!</h5><h5 id="也希望大家把PS里面的提问执行一遍-看看会有什么不同的效果-加深一下印象及理解"><a href="#也希望大家把PS里面的提问执行一遍-看看会有什么不同的效果-加深一下印象及理解" class="headerlink" title="也希望大家把PS里面的提问执行一遍,看看会有什么不同的效果,加深一下印象及理解!!"></a>也希望大家把PS里面的提问执行一遍,看看会有什么不同的效果,加深一下印象及理解!!</h5><h5 id="下一节我们将开始详细讲解NodeJS的常用模块-飙车正式提速"><a href="#下一节我们将开始详细讲解NodeJS的常用模块-飙车正式提速" class="headerlink" title="下一节我们将开始详细讲解NodeJS的常用模块~飙车正式提速!"></a>下一节我们将开始详细讲解NodeJS的常用模块~飙车正式提速!</h5>
    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/NodeJS/">#NodeJS</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


    </div>

    <!-- Footer -->
    <div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    <a href="https://github.com/klugjo">主题参考</a>
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/03/28/NodeJS笔记本/">NodeJS笔记本</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/03/28/NodeJS-1.2.最Low的Node应用/">NodeJS-2.最Low的Node应用</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/02/14/Webpack笔记本/">Webpack笔记本</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/02/14/React笔记本/">React笔记本</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/React/">React</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Webpack/">Webpack</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Node/">Node</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/kstar11">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:liuxuanpei@hotmail.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    © 2019 kstar-东君
                </div>
            </div>
        </div>
    </div>
</footer>

    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>